(this["webpackJsonpsports-trivia"]=this["webpackJsonpsports-trivia"]||[]).push([[0],{58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(0),r=n(6),a=n.n(r),o=n(4),i=n(5),u=n(25),l=n(7),d=n(8),h=n(10),j=n(9),O=n(15),b=n.n(O),p=n(26),f=n(27),v=n.n(f),x=function(){return function(){var e=Object(p.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://opentdb.com/api.php?amount=10&category=9&type=multiple");case 2:c=e.sent,t({type:"FETCH_QUESTIONS",payload:c.data.results});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},m=Object(o.b)((function(e){return{gameOver:e.updateState.gameOver,questions:e.questionReducer.questions,score:e.updateState.score}}),{startGame:function(){return{type:"START_GAME"}}})((function(e){var t=e.score,n=e.questions,s=e.startGame;return e.gameOver?Object(c.jsxs)("div",{className:"menu-end",children:[Object(c.jsx)("div",{className:"score",children:Object(c.jsxs)("h2",{children:["You scored ",t,"/",n.length]})}),Object(c.jsx)("div",{className:"restart",children:Object(c.jsx)("button",{onClick:s,children:"Play Again?"})})]}):Object(c.jsxs)("div",{className:"menu",children:[Object(c.jsx)("div",{className:"heading",children:Object(c.jsx)("h1",{children:"General Knowledge Trivia"})}),Object(c.jsx)("div",{className:"start",children:Object(c.jsx)("button",{onClick:s,children:"Start"})})]})})),E=Object(o.b)((function(e){return{questionIndex:e.updateState.questionIndex,questions:e.questionReducer.questions}}),{nextQuestion:function(){return{type:"NEXT_QUESTION"}},endGame:function(){return{type:"GAME_OVER"}},fetchQuestions:x,resetSelect:function(){return{type:"RESET_SELECT"}}})((function(e){var t=e.nextQuestion,n=e.endGame,s=e.fetchQuestions,r=e.resetSelect,a=e.questionIndex,o=e.questions,i=function(){t();for(var e=document.getElementsByTagName("button"),c=0;c<e.length;c++)e[c].classList.contains("choice-correct")?e[c].classList.remove("choice-correct"):e[c].classList.contains("choice-incorrect")&&e[c].classList.remove("choice-incorrect");a<o.length-1?r():(s(),n())};return a===o.length-1?Object(c.jsx)("button",{onClick:i,children:"Finish"}):Object(c.jsx)("button",{onClick:i,children:"Next Question"})})),q=(n(58),function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).checkAnswer=function(t){for(var n=e.props,c=n.questions,s=n.questionIndex,r=n.onCorrect,a=n.onChoiceSelect,o=document.getElementsByClassName("choice"),i=0,u=0;u<o.length;u++)if(t.target.textContent===o[u].textContent){i=u;break}var l=c[s].answer;t.target.textContent===c[s].choices[l]?(o[l].classList.add("choice-correct"),r()):(o[i].classList.add("choice-incorrect"),o[l].classList.add("choice-correct")),a()},e}return Object(d.a)(n,[{key:"renderChoices",value:function(){var e=this,t=this.props;return t.questions[t.questionIndex].choices.map((function(t,n){return Object(c.jsx)("button",{dangerouslySetInnerHTML:{__html:t},className:"choice",onClick:e.checkAnswer},n)}))}},{key:"render",value:function(){var e=this.props,t=e.questions,n=e.questionIndex,s=e.select;return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("strong",{children:["Question: ",n+1," of ",t.length]}),Object(c.jsxs)("div",{className:"question-display",children:[Object(c.jsx)("div",{className:"question-text",children:Object(c.jsx)("h1",{dangerouslySetInnerHTML:{__html:t[n].question}})}),Object(c.jsx)("div",{className:"choice-wrapper",children:this.renderChoices()})]}),Object(c.jsx)("div",{className:"next",children:s?Object(c.jsx)(E,{}):""})]})}}]),n}(s.Component)),C=Object(o.b)((function(e){return{questionIndex:e.updateState.questionIndex,questions:e.questionReducer.questions,select:e.updateState.select}}),{onChoiceSelect:function(){return{type:"CHOICE_SELECTED"}},onCorrect:function(){return{type:"INCREMENT_SCORE"}}})(q),S=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchQuestions()}},{key:"render",value:function(){return this.props.start?Object(c.jsx)(C,{}):Object(c.jsx)(m,{})}}]),n}(s.Component),g=Object(o.b)((function(e){return{start:e.updateState.start}}),{fetchQuestions:x})(S),y=n(2),N=n(28),T={questions:[]},I={start:!1,gameOver:!1,select:!1,questionIndex:0,score:0},_=Object(i.c)({questionReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_QUESTIONS":var n=t.payload.map((function(e){var t={question:e.question},n=Object(N.a)(e.incorrect_answers);return t.answer=Math.floor(3*Math.random()),n.splice(t.answer,0,e.correct_answer),t.choices=[],n.forEach((function(e,n){t.choices.push(e)})),t}));return Object(y.a)(Object(y.a)({},e),{},{questions:n});default:return e}},updateState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_GAME":return Object(y.a)(Object(y.a)({},e),{},{start:!0});case"GAME_OVER":return Object(y.a)(Object(y.a)({},e),{},{gameOver:!0,start:!1,select:!1,questionIndex:0});case"CHOICE_SELECTED":return Object(y.a)(Object(y.a)({},e),{},{select:!0});case"RESET_SELECT":return Object(y.a)(Object(y.a)({},e),{},{select:!1});case"NEXT_QUESTION":return Object(y.a)(Object(y.a)({},e),{},{questionIndex:e.questionIndex+1});case"INCREMENT_SCORE":return Object(y.a)(Object(y.a)({},e),{},{score:e.score+1});default:return e}}}),w=Object(i.d)(_,Object(i.a)(u.a));a.a.render(Object(c.jsx)(o.a,{store:w,children:Object(c.jsx)(g,{})}),document.querySelector("#root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.dac23490.chunk.js.map